(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9fe6506"],{"99af":function(t,e,r){"use strict";var o=r("23e7"),a=r("d039"),i=r("e8b5"),s=r("861d"),n=r("7b0b"),l=r("50c4"),c=r("8418"),u=r("65f0"),p=r("1dde"),d=r("b622"),f=r("2d00"),m=d("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",h=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=p("concat"),v=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},$=!h||!y;o({target:"Array",proto:!0,forced:$},{concat:function(t){var e,r,o,a,i,s=n(this),p=u(s,0),d=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?s:arguments[e],v(i)){if(a=l(i.length),d+a>b)throw TypeError(g);for(r=0;r<a;r++,d++)r in i&&c(p,d,i[r])}else{if(d>=b)throw TypeError(g);c(p,d++,i)}return p.length=d,p}})},a475:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("breadcrumb-nav",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(" "+t._s(t.$t("user.newGroup"))+" ")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,border:"","empty-text":t.$t("common.noData")}},[r("el-table-column",{attrs:{prop:"path",label:t.$t("data.dataStorePath")}}),r("el-table-column",{attrs:{prop:"groupName",label:t.$t("user.userGroup")}}),r("el-table-column",{attrs:{prop:"permissionsT",label:t.$t("data.permission"),formatter:t.translationPermissions}}),r("el-table-column",{attrs:{label:t.$t("common.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.updateItem(e.row)}}},[t._v(t._s(t.$t("common.modify")))]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.deleteItem(e.row)}}},[t._v(t._s(t.$t("common.delete")))])]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-sizes":t.sizeList,"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.totalPage,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),r("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,"custom-class":"dialog-style",width:"700px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.clearDialogForm}},[r("el-form",{ref:"formValidate",attrs:{model:t.form,rules:t.ruleValidate,"label-width":"170px"}},[r("el-form-item",{attrs:{label:t.$t("data.dataStorePath")}},[r("el-input",{attrs:{placeholder:t.$t("data.dataStorePro"),disabled:""},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}})],1),r("el-form-item",{attrs:{label:t.$t("user.userGroupSettings"),prop:"groupId"}},[r("el-select",{attrs:{filterable:"",placeholder:t.$t("user.userGroupSettingsPro"),disabled:t.modify},model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}},t._l(t.groupOptionList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),r("el-form-item",{attrs:{label:t.$t("data.permission"),prop:"permission"}},[r("el-select",{attrs:{placeholder:t.$t("data.permissionPro")},model:{value:t.form.permissions,callback:function(e){t.$set(t.form,"permissions",e)},expression:"form.permissions"}},[r("el-option",{attrs:{label:t.$t("AIDE.readOnly"),value:"r"}}),r("el-option",{attrs:{label:t.$t("AIDE.readWrite"),value:"rw"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",disabled:t.btnDisabled},on:{click:t.subInfo}},[t._v(t._s(t.$t("common.save")))]),r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))])],1)],1)],1)},a=[],i=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={props:{storageId:{type:String,default:""}},data:function(){return{dialogVisible:!1,path:"",form:{groupId:"",permissions:""},modify:!1,dataList:[],groupOptionList:[]}},mounted:function(){this.path=this.$route.query.path,this.getListData(),this.getGroupOption()},computed:{title:function(){return this.modify?this.$t("user.modifyGroup"):this.$t("user.newGroup")},getUrl:function(){return"/cc/".concat(this.FesEnv.ccApiVersion,"/groups/groupStorage/storage/").concat(this.storageId)},ruleValidate:function(){return this.resetFormFields(),{roleId:[{required:!0,message:this.$t("user.roleReq")}],groupVal:[{required:!0,message:this.$t("user.userGroupSettingsReq")}]}}},methods:{translationPermissions:function(t,e){return"r"===t.permissions?this.$t("AIDE.readOnly"):this.$t("AIDE.readWrite")},updateItem:function(t){var e=this;this.dialogVisible=!0,this.modify=!0,setTimeout((function(){Object.assign(e.form,t)}),0)},deleteItem:function(t){var e="/cc/".concat(this.FesEnv.ccApiVersion,"/groups/groupStorage/id/").concat(t.id);this.deleteListItem(e)},subInfo:function(){var t=this;this.$refs.formValidate.validate((function(e){if(e){t.setBtnDisabeld();var r=t.modify?"put":"post",o=n({},t.form);o.path=t.path,o.storageId=parseInt(t.storageId),t.FesApi.fetch("/cc/".concat(t.FesEnv.ccApiVersion,"/groups/storages"),o,r).then((function(){t.getListData(),t.toast(),t.dialogVisible=!1}))}}))},clearDialogForm:function(){this.form.groupId="",this.form.permissions="",this.modify=!1,this.$refs.formValidate.resetFields()}}},c=l,u=r("2877"),p=Object(u["a"])(c,o,a,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-b9fe6506.7c4c0f79.js.map