(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-311f312e"],{"4de4":function(e,t,s){"use strict";var n=s("23e7"),i=s("b727").filter,o=s("1dde"),a=s("ae40"),r=o("filter"),c=a("filter");n({target:"Array",proto:!0,forced:!r||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"602e":function(e,t,s){},ade3:function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,"a",(function(){return n}))},b64b:function(e,t,s){var n=s("23e7"),i=s("7b0b"),o=s("df75"),a=s("d039"),r=a((function(){o(1)}));n({target:"Object",stat:!0,forced:r},{keys:function(e){return o(i(e))}})},c740:function(e,t,s){"use strict";var n=s("23e7"),i=s("b727").findIndex,o=s("44d2"),a=s("ae40"),r="findIndex",c=!0,d=a(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!d},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},caa9:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-process",style:e.isFromDss?"height:calc(100% + 36px)":"height:calc(100% - 36px)"},[s("div",{staticClass:"process-tabs"},[e.isFromDss?e._e():s("div",{staticClass:"process-tab"},e._l(e.tabs,(function(t,n){return s("div",{key:n,staticClass:"process-tab-item",class:{active:n===e.active},on:{click:function(t){return e.choose(n)},mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.isHover=!0},mouseleave:function(e){if(e.target!==e.currentTarget)return null;t.isHover=!1}}},[s("div",[s("img",{staticClass:"tab-icon",class:e.nodeImg[t.node.type].class,attrs:{src:e.nodeImg[t.node.type].icon,alt:""}}),s("div",{staticClass:"process-tab-name",attrs:{title:e.$t(t.title)}},[e._v(e._s(e.$t(t.title)))]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isHover&&t.node&&t.node.isChange,expression:"!item.isHover && item.node && item.node.isChange"}],staticClass:"process-tab-unsave-icon fi-radio-on2"}),t.isHover&&t.close?s("i",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),e.remove(n)}}}):e._e()])])})),0),s("div",{staticClass:"process-container"},[e._l(e.tabs,(function(t,n){return["Process"===t.type?s("Process",{directives:[{name:"show",rawName:"v-show",value:n===e.active,expression:"index===active"}],key:n,ref:"process",refInFor:!0,attrs:{"import-replace":!1,"flow-id":t.data.flowId,"flow-name":t.data.name,version:t.data.version,readonly:t.data.readonly,tabs:e.tabs,"open-files":e.openFiles,"from-dss":e.isFromDss},on:{isChange:function(t){return e.isChange(n,arguments)},"check-opened":e.checkOpened,saveBaseInfo:e.saveBaseInfo,reloadPage:e.reloadPage}}):e._e()]}))],2)])])},i=[],o=(s("a4d3"),s("e01a"),s("d28b"),s("4de4"),s("caad"),s("c975"),s("d81d"),s("a434"),s("d3b7"),s("ac1f"),s("2532"),s("3ca3"),s("1276"),s("ddb0"),s("07da")),a=s("d58a"),r={components:{Process:o["a"]},props:{query:{type:Object,default:function(){}}},data:function(){return{tabs:[{title:"",type:"Process",close:!1,data:this.query,node:{isChange:!1,type:"workflow.subflow"},key:"flow.workflow",isHover:!1}],isFromDss:!1,active:0,openFiles:{},nodeImg:a["a"]}},created:function(){if(this.$route.query.exp_id)this.tabs[0].title=!0===this.query.readonly?"flow.readOnlyMode":"flow.editMode";else{var e=window.location.href,t=e.indexOf("?");e=decodeURIComponent(e.substring(t+1));var s=e.split("&"),n={},i=!0,o=!1,a=void 0;try{for(var r,c=s[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){var d=r.value,l=d.substring(0,d.indexOf("=")),f=d.substring(d.indexOf("=")+1);n[l]=f}}catch(u){o=!0,a=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}console.log("param",n),this.tabs[0].data={flowId:parseInt(n.expId),readonly:!1,version:"",contextID:n.contextID,workspaceId:n.workspaceId,"bdp-user-ticket-id":n["bdp-user-ticket-id"]},this.isFromDss=!0}},methods:{reloadPage:function(){this.reload()},choose:function(e){this.active=e},remove:function(e){var t=this,s=this.tabs[e],n=this.openFiles[s.key]||[],i=this.tabs.filter((function(e){return n.includes(e.key)&&e.node.isChange}));if(i.length>0&&s.node.type===a["b"].FLOW){var o=this.$t("flow.closeExitSubNodeWorkflow");s.node.isChange&&(o=this.$t("flow.closeUnSavedWorkflowTip")),this.$confirm(o,this.$t("common.prompt")).then((function(e){t.active===e?(t.tabs.splice(e,1),t.choose(t.tabs.length-1)):t.tabs.splice(e,1)})).catch((function(){}))}else this.active>=e?(this.tabs.splice(e,1),this.choose(e-1)):this.tabs.splice(e,1)},check:function(e){var t=this;if(e){var s=!0;return this.tabs.map((function(n){if(e.key===n.key)s=!0;else{if(t.tabs.length>10)return void(s=!1);s=!0}})),s||this.$message.warning(this.$t("flow.openNodeTip")),s}return!(this.tabs.length>10)||(this.$message.warning(this.$t("flow.openNodeTip")),!1)},isChange:function(e,t){this.tabs[e].node&&(this.tabs[e].node.isChange=t[0])},beforeLeaveHook:function(){},checkOpened:function(e,t){},saveBaseInfo:function(e){this.tabs=this.tabs.map((function(t){return t.key===e.key&&(t.title=e.title),t}))}}},c=r,d=(s("cd1b"),s("2877")),l=Object(d["a"])(c,n,i,!1,null,"781099fa",null);t["default"]=l.exports},cd1b:function(e,t,s){"use strict";var n=s("602e"),i=s.n(n);i.a},dbb4:function(e,t,s){var n=s("23e7"),i=s("83ab"),o=s("56ef"),a=s("fc6a"),r=s("06cf"),c=s("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,s,n=a(e),i=r.f,d=o(n),l={},f=0;while(d.length>f)s=i(n,t=d[f++]),void 0!==s&&c(l,t,s);return l}})},e439:function(e,t,s){var n=s("23e7"),i=s("d039"),o=s("fc6a"),a=s("06cf").f,r=s("83ab"),c=i((function(){a(1)})),d=!r||c;n({target:"Object",stat:!0,forced:d,sham:!r},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})}}]);