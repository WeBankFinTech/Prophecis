(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29048f34"],{"0550":function(e,t,a){"use strict";var i=a("ff68"),l=a.n(i);l.a},"3b2f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("breadcrumb-nav"),a("el-form",{ref:"queryValidate",staticClass:"query",attrs:{model:e.query,rules:e.ruleValidate,"label-width":"85px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.$t("ns.nameSpace"),prop:"namespace"}},[a("el-select",{attrs:{filterable:"",placeholder:e.$t("ns.nameSpacePro")},model:{value:e.query.namespace,callback:function(t){e.$set(e.query,"namespace",t)},expression:"query.namespace"}},e._l(e.spaceOptionList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.$t("user.user"),prop:"userid"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("user.userPro")},model:{value:e.query.userid,callback:function(t){e.$set(e.query,"userid",t)},expression:"query.userid"}},e._l(e.userOptionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"margin-l30",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.filterListData}},[e._v(" "+e._s(e.$t("common.filter"))+" ")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-refresh-left"},on:{click:e.resetListData}},[e._v(" "+e._s(e.$t("common.reset"))+" ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" "+e._s(e.currentExpRunId)+" ")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"","empty-text":e.$t("common.noData")}},[a("el-table-column",{attrs:{prop:"model_id","show-overflow-tooltip":!0,label:e.$t("DI.taskExecutionID"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":!0,label:e.$t("DI.jobName"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"expRunId","show-overflow-tooltip":!0,label:e.$t("DI.experimentExecutionID"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"expName","show-overflow-tooltip":!0,label:e.$t("DI.experimentName"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"submission_timestamp","show-overflow-tooltip":!0,label:e.$t("DI.submissionTime"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"completed_timestamp","show-overflow-tooltip":!0,label:e.$t("DI.endTime"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"user_id","show-overflow-tooltip":!0,label:e.$t("DI.committer"),"min-width":"80"}}),a("el-table-column",{attrs:{prop:"status","show-overflow-tooltip":!0,label:e.$t("DI.executionStatus"),"min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("status-tag",{attrs:{status:t.row.status,statusObj:e.statusObj}})]}}])}),a("el-table-column",{attrs:{label:e.$t("common.operation"),"min-width":"85"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{size:"medium"},on:{command:e.handleCommand}},[a("el-button",{staticClass:"multi-operate-btn",attrs:{type:"text",icon:"el-icon-more",round:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("taskDetail",t.row)}},[e._v(e._s(e.$t("DI.taskDetail")))]),"MLPipeline"!==t.row.JobType?a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("copyJob",t.row)}},[e._v(e._s(e.$t("common.copy")))]):e._e(),a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("deleteItem",t.row)}},[e._v(e._s(e.$t("common.delete")))]),a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("viewLogFun",t.row)}},[e._v(e._s(e.$t("DI.viewlog")))]),a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("downloadJob",t.row)}},[e._v(e._s(e.$t("common.export")))]),"PENDING"===t.row.status||"QUEUED"===t.row.status||"RUNNING"===t.row.status?a("el-dropdown-item",{attrs:{command:e.beforeHandleCommand("killJob",t.row)}},[e._v(e._s(e.$t("DI.termination")))]):e._e()],1)],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pagination.pageNumber,"page-sizes":e.sizeList,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.totalPage,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.detailTitle,visible:e.detailVisible,"custom-class":"dialog-style",width:"1100px"},on:{"update:visible":function(t){e.detailVisible=t}}},[a("job-detail",{attrs:{"detail-obj":e.detailObj,"space-option-list":e.spaceOptionList}})],1),a("el-dialog",{attrs:{title:e.detailTitle,visible:e.hadoopDetailVisible,"custom-class":"dialog-style",width:"1150px"},on:{"update:visible":function(t){e.hadoopDetailVisible=t}}}),a("create-gpu",{ref:"gpuDialog",attrs:{spaceOptionList:e.spaceOptionList,localPathList:e.localPathList},on:{getListData:e.getListData}})],1)},l=[],r=(a("99af"),a("4160"),a("c975"),a("dca8"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("488d")),o=a("6322"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{"label-width":"190px"}},[a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.basicSettings"))+" ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.trainingjobName"),maxlength:"225"}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.name,callback:function(t){e.$set(e.detailObj,"name",t)},expression:"detailObj.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("ns.nameSpace")}},[a("el-select",{attrs:{disabled:""},model:{value:e.detailObj.namespace,callback:function(t){e.$set(e.detailObj,"namespace",t)},expression:"detailObj.namespace"}},e._l(e.spaceOptionList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.description")}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.detailObj.description,callback:function(t){e.$set(e.detailObj,"description",t)},expression:"detailObj.description"}})],1)],1),a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.imageSettings"))+" ")]),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.imageSelection")}},[a("span",[e._v(" "+e._s(e.defineImage)+" ")]),a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.image,callback:function(t){e.$set(e.detailObj,"image",t)},expression:"detailObj.image"}})],1)],1),a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.computingResource"))+" ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.jobType")}},[a("el-select",{attrs:{disabled:""},model:{value:e.detailObj.JobType,callback:function(t){e.$set(e.detailObj,"JobType",t)},expression:"detailObj.JobType"}},[a("el-option",{attrs:{label:e.$t("DI.Single"),value:"Local"}}),a("el-option",{attrs:{label:e.$t("DI.distributed"),value:"dist-tf"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.cpu")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.cpus,callback:function(t){e.$set(e.detailObj,"cpus",t)},expression:"detailObj.cpus"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("Core")])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.gpu")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.gpus,callback:function(t){e.$set(e.detailObj,"gpus",t)},expression:"detailObj.gpus"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.$t("DI.block")))])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.memory")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.memory,callback:function(t){e.$set(e.detailObj,"memory",t)},expression:"detailObj.memory"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("Gb")])])],1)],1)],1),"dist-tf"===e.detailObj.JobType?a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.learners")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.learners,callback:function(t){e.$set(e.detailObj,"learners",t)},expression:"detailObj.learners"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.pss")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.pss,callback:function(t){e.$set(e.detailObj,"pss",t)},expression:"detailObj.pss"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.ps_cpu")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.ps_cpu,callback:function(t){e.$set(e.detailObj,"ps_cpu",t)},expression:"detailObj.ps_cpu"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("Core")])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.ps_memory")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.ps_memory,callback:function(t){e.$set(e.detailObj,"ps_memory",t)},expression:"detailObj.ps_memory"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("Gi")])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("DI.ps_image")}},[a("span",[e._v(" "+e._s(e.defineImage)+" ")]),a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.ps_image,callback:function(t){e.$set(e.detailObj,"ps_image",t)},expression:"detailObj.ps_image"}})],1)],1)],1)],1):e._e(),a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.trainingDirectory"))+" ")]),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.trainingDataStore")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.path,callback:function(t){e.$set(e.detailObj,"path",t)},expression:"detailObj.path"}})],1),a("el-form-item",{attrs:{label:e.$t("DI.trainingData")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.trainingData,callback:function(t){e.$set(e.detailObj,"trainingData",t)},expression:"detailObj.trainingData"}})],1),a("el-form-item",{attrs:{label:e.$t("DI.trainingResult")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.trainingResults,callback:function(t){e.$set(e.detailObj,"trainingResults",t)},expression:"detailObj.trainingResults"}})],1)],1),e.detailObj.job_alert?a("div",e._l(e.detailObj.job_alert,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"subtitle "},[e._v(" "+e._s(e.$t("DI.alarmSet"))+" ")]),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.alarmTypes"),prop:"alarmType"}},[a("el-select",{attrs:{multiple:"",placeholder:e.$t("DI.alarmTypesPro"),disabled:""},model:{value:t.alarmType,callback:function(a){e.$set(t,"alarmType",a)},expression:"item.alarmType"}},[a("el-option",{attrs:{label:e.$t("DI.eventAlarm"),value:"1"}}),a("el-option",{attrs:{label:e.$t("DI.designatedTimeout"),value:"2"}}),a("el-option",{attrs:{label:e.$t("DI.hoursOvertime"),value:"3"}})],1)],1)],1),t.alarmType.indexOf("1")>-1?a("div",{key:"eventChecker"},[a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.eventAlarmSettings"))+" ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.listeningEnent"),prop:"eventChecker"}},[a("el-select",{attrs:{placeholder:e.$t("DI.listeningEnentPro"),disabled:""},model:{value:t.event.event_checker,callback:function(a){e.$set(t.event,"event_checker",a)},expression:"item.event.event_checker"}},[a("el-option",{attrs:{label:e.$t("DI.executeSuccess"),value:"COMPLETED"}}),a("el-option",{attrs:{label:e.$t("DI.executeFail"),value:"FAILED"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.alarmLevel"),prop:"alertLevel"}},[a("el-select",{attrs:{placeholder:e.$t("DI.alarmLevelPro"),disabled:""},model:{value:t.event.alert_level,callback:function(a){e.$set(t.event,"alert_level",a)},expression:"item.event.alert_level"}},[a("el-option",{attrs:{label:"Info",value:"info"}}),a("el-option",{attrs:{label:"Warning",value:"warning"}}),a("el-option",{attrs:{label:"Minor",value:"minor"}}),a("el-option",{attrs:{label:"Major",value:"major"}}),a("el-option",{attrs:{label:"Critical",value:"critical"}})],1)],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.receiver"),prop:"receiver"}},[a("el-input",{attrs:{placeholder:e.$t("DI.receiver"),disabled:""},model:{value:t.event.receiver,callback:function(a){e.$set(t.event,"receiver",a)},expression:"item.event.receiver"}})],1)],1)],1):e._e(),t.alarmType.indexOf("2")>-1?a("div",{key:"designatedTimeout"},[a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.designatedTimeoutSetting"))+" ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.designatedTimeout"),prop:"deadlineChecker"}},[a("el-input",{attrs:{placeholder:e.$t("DI.timeoutTimePro"),disabled:""},model:{value:t.fixTime.deadline_checker,callback:function(a){e.$set(t.fixTime,"deadline_checker",a)},expression:"item.fixTime.deadline_checker"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.alarmFrequency"),prop:"interval"}},[a("el-input",{attrs:{placeholder:e.$t("DI.alarmFrequencyPro"),disabled:""},model:{value:t.fixTime.interval,callback:function(a){e.$set(t.fixTime,"interval",a)},expression:"item.fixTime.interval"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("min")])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.alarmLevel"),prop:"alertLevel"}},[a("el-select",{attrs:{placeholder:e.$t("DI.alarmLevelPro"),disabled:""},model:{value:t.fixTime.alert_level,callback:function(a){e.$set(t.fixTime,"alert_level",a)},expression:"item.fixTime.alert_level"}},[a("el-option",{attrs:{label:"Info",value:"info"}}),a("el-option",{attrs:{label:"Warning",value:"warning"}}),a("el-option",{attrs:{label:"Minor",value:"minor"}}),a("el-option",{attrs:{label:"Major",value:"major"}}),a("el-option",{attrs:{label:"Critical",value:"critical"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.receiver"),prop:"receiver"}},[a("el-input",{attrs:{placeholder:e.$t("DI.receiver"),disabled:""},model:{value:t.fixTime.receiver,callback:function(a){e.$set(t.fixTime,"receiver",a)},expression:"item.fixTime.receiver"}})],1)],1)],1)],1):e._e(),t.alarmType.indexOf("3")>-1?a("div",{key:"overtimeChecker"},[a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.timeoutTimeSetting"))+" ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.hoursOvertime"),prop:"overtimeChecker"}},[a("el-input",{attrs:{placeholder:e.$t("DI.timeoutTimePro"),disabled:""},model:{value:t.overTime.overtime_checker,callback:function(a){e.$set(t.overTime,"overtime_checker",a)},expression:"item.overTime.overtime_checker"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("h")])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.alarmFrequency"),prop:"interval"}},[a("el-input",{attrs:{placeholder:e.$t("DI.alarmFrequencyPro"),disabled:""},model:{value:t.overTime.interval,callback:function(a){e.$set(t.overTime,"interval",a)},expression:"item.overTime.interval"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("min")])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.alarmLevel"),prop:"alertLevel"}},[a("el-select",{attrs:{placeholder:e.$t("DI.alarmLevelPro"),disabled:""},model:{value:t.overTime.alert_level,callback:function(a){e.$set(t.overTime,"alert_level",a)},expression:"item.overTime.alert_level"}},[a("el-option",{attrs:{label:"Info",value:"info"}}),a("el-option",{attrs:{label:"Warning",value:"warning"}}),a("el-option",{attrs:{label:"Minor",value:"minor"}}),a("el-option",{attrs:{label:"Major",value:"major"}}),a("el-option",{attrs:{label:"Critical",value:"critical"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("DI.receiver"),prop:"receiver"}},[a("el-input",{attrs:{placeholder:e.$t("DI.receiver"),disabled:""},model:{value:t.overTime.receiver,callback:function(a){e.$set(t.overTime,"receiver",a)},expression:"item.overTime.receiver"}})],1)],1)],1)],1):e._e()],1)})),0):e._e(),a("div",{staticClass:"subtitle"},[e._v(" "+e._s(e.$t("DI.jobExecution"))+" ")]),a("el-row",[a("el-form-item",{attrs:{label:e.$t("DI.entrance")}},[a("el-input",{attrs:{rows:4,type:"textarea",disabled:""},model:{value:e.detailObj.command,callback:function(t){e.$set(e.detailObj,"command",t)},expression:"detailObj.command"}})],1),a("el-form-item",{attrs:{label:e.$t("DI.executeCodeSettings")}},[a("el-select",{attrs:{disabled:""},model:{value:e.detailObj.codeSettings,callback:function(t){e.$set(e.detailObj,"codeSettings",t)},expression:"detailObj.codeSettings"}},[a("el-option",{attrs:{label:e.$t("DI.manualUpload"),value:"codeFile"}}),a("el-option",{attrs:{label:e.$t("DI.shareDirectory"),value:"storagePath"}})],1)],1),"codeFile"===e.detailObj.codeSettings?a("div",{staticClass:"upload-box"},[a("span",{staticClass:"file-name"},[e._v(" "+e._s(e.detailObj.fileName)+" ")])]):e._e(),"storagePath"===e.detailObj.codeSettings?a("el-form-item",{key:"\n            detailObjStoragePath",attrs:{label:e.$t("DI.shareDirectory")}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailObj.diStoragePath,callback:function(t){e.$set(e.detailObj,"diStoragePath",t)},expression:"detailObj.diStoragePath"}})],1):e._e()],1)],1)],1)},n=[],d={props:{detailObj:{type:Object,default:function(){return{}}},spaceOptionList:{type:Array,default:function(){return[]}}},computed:{haveProxy:function(){return this.detailObj.haveProxy},defineImage:function(){return this.FesEnv.DI.defineImage}}},c=d,p=(a("0550"),a("2877")),m=Object(p["a"])(c,s,n,!1,null,"ba798a34",null),u=m.exports,b=a("db15"),f=a("1246"),v={mixins:[o["a"],r["a"]],components:{JobDetail:u,StatusTag:b["a"],CreateGpu:f["a"]},data:function(){return{detailVisible:!1,hadoopDetailVisible:!1,query:{namespace:"",userid:""},localPathList:[],detailObj:{},dataModel:!0,loading:!1,dataList:[],userOptionList:[],spaceOptionList:[],trainingId:"",disabled:!1,statusObj:{COMPLETED:"success",PENDING:"",RUNNING:"",QUEUED:"info",FAILED:"danger",CANCELLED:"warning"},historyExpRunId:this.$route.query.expRunId}},mounted:function(){this.getListData(),this.getDIUserOption(),this.getDISpaceOption(),this.getDIStoragePath()},computed:{title:function(){return this.dataModel?this.$t("DI.dataStorage"):this.$t("DI.resultStorage")},detailTitle:function(){var e="";return e="告警详情"===this.$t("DI.alarmDetail")?"任务".concat(this.trainingId,"详情"):this.$t("DI.alarmDetail")+this.trainingId,e},noDataText:function(){return this.loading?"":this.$t("common.noData")},currentExpRunId:function(){return this.historyExpRunId&&!this.$route.query.expRunId&&this.resetListData(),this.$route.query.exp_id},imageOptionList:function(){return this.FesEnv.DI.imageOption},ruleValidate:function(){return this.resetQueryFields(),{name:[{required:!0,message:this.$t("DI.trainingjobNameReq")},{type:"string",pattern:new RegExp(/^[0-9a-zA-Z-]*$/),message:this.$t("DI.trainingjobNameFormat")}]}}},methods:{showGPU:function(){this.$refs.gpuDialog.dialogVisible=!0},taskDetail:function(e){console.log("taskDetail",e),this.trainingId=e.model_id,this.detailObj={},Object.assign(this.detailObj,e),"tfos"===e.job_type?this.hadoopDetailVisible=!0:this.detailVisible=!0},viewLogFun:function(e){this.$router.push({name:"jobExeRecordDetail",params:{modelId:e.model_id}})},deleteItem:function(e){var t=this;this.$confirm(this.$t("DI.terminateJobPro"),this.$t("common.prompt")).then((function(a){t.FesApi.fetchUT("/di/".concat(t.FesEnv.diApiVersion,"/models/").concat(e.model_id),{version:"200"},"delete").then((function(){t.deleteItemSuccess()}))})).catch((function(){}))},downloadJob:function(e){var t="".concat("","/di/v1/models/").concat(e.model_id,"/export");this.downFile(t,e.fileName||"jobFile")},killJob:function(e){var t=this;this.FesApi.fetchUT("/di/".concat(this.FesEnv.diApiVersion,"/models/").concat(e.model_id,"/kill"),"get").then((function(){t.getListData(),t.toast()}))},copyJob:function(e){var t=this;e.job_alert&&(e.job_alert.forEach((function(t,a){t.fixTime&&t.fixTime.deadline_checker&&(e.job_alert[a].fixTime.deadlineChecker=new Date(t.fixTime.deadline_checker).getTime())})),e.setAlarm=e.job_alert),e.ps_image&&this.judgeImageType("ps_imageType","ps_image","ps_imageInput",e.ps_image,e),this.judgeImageType("imageType","imageOption","imageInput",e.image,e),setTimeout((function(){var a=t.$refs.gpuDialog;Object.assign(a.form,e),e.filePath&&(a.fileName=e.fileName,a.codeFile=e.filePath)}),100),this.showGPU()},judgeImageType:function(e,t,a,i,l){this.imageOptionList.indexOf(i)>-1?(l[e]="Standard",l[t]=i):(l[e]="Custom",l[a]=i)},getListData:function(){var e=this,t={version:"200",page:this.pagination.pageNumber,size:this.pagination.pageSize};if(this.query.namespace||this.query.userid)for(var a in this.query)this.query[a]&&(t[a]=this.query[a]);this.$route.query.expRunId&&(t.expRunId=this.$route.query.expRunId),this.FesApi.fetchUT("/di/".concat(this.FesEnv.diApiVersion,"/models"),t,"get").then((function(t){if(t&&t.models){var a=[];t.models.forEach((function(t){var i=e.basicInfoProcess(t);i.expRunId=t.expRunId,i.expName=t.expName,i.JobType=t.JobType,a.push(i)})),e.dataList=Object.freeze(a),e.pagination.totalPage=t.total||0}}))}}},h=v,g=(a("cddd"),Object(p["a"])(h,i,l,!1,null,"a7bdd19a",null));t["default"]=g.exports},"3e0d":function(e,t,a){},"488d":function(e,t,a){"use strict";a("a4d3"),a("e01a"),a("d28b"),a("4de4"),a("7db0"),a("4160"),a("c975"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0");var i=a("ade3"),l=a("21f4");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={methods:{basicInfoProcess:function(e){var t=["model_id","name","user_id","description"],a={};a.job_type=e.JobType,a.image=e.framework.version,a.status=e.training.training_status.status,a.namespace=e.job_namespace,a.submission_timestamp=l["a"].transDate(e.submission_timestamp),a.completed_timestamp=l["a"].transDate(e.completed_timestamp),e.data_stores&&(a.trainingData=e.data_stores[0].connection.bucket,a.trainingResults=e.data_stores[1].connection.bucket,a.path=e.data_stores[1].connection.path,e.data_stores[2]?(a.codeSettings="storagePath",a.diStoragePath=e.data_stores[2].connection.codeWork):(a.codeSettings="codeFile",a.fileName=e.fileName,a.filePath=e.filePath)),e.JobAlert&&"null"!==e.JobAlert&&(a.job_alert=this.processAlertInfo(e.JobAlert)),"tfos"===e.JobType?this.handleHadoopData(a,e):this.handleGPUData(a,e);for(var i=0,r=t;i<r.length;i++){var o=r[i];a[o]=e[o]}return a},handleGPUData:function(e,t){e.gpus=t.training.gpus||0;for(var a=["cpus","memory","command","learners","ps_cpu","ps_image","ps_memory","pss"],i=0,l=a;i<l.length;i++){var r=l[i];e[r]="cpus"===r||"command"===r||"memory"===r||"learners"===r?t.training[r]:t[r]}if(t.proxy_user&&this.$refs.gpuDialog&&this.$refs.gpuDialog.proxyUserOption){var o=this.$refs.gpuDialog.proxyUserOption,s=!0,n=!1,d=void 0;try{for(var c,p=o[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var m=c.value;if(m.name===t.proxy_user){e.proxy_user=t.proxy_user;break}}}catch(u){n=!0,d=u}finally{try{s||null==p.return||p.return()}finally{if(n)throw d}}e.haveProxy=!0}},handleHadoopData:function(e,t){var a={codeSettings:"HDFSPath",HDFSPath:"",fileName:""},i=t.TFosRequest;e.driver_memory=i.DriverMemory,e.executor_cores=i.ExecutorCores,e.executor_memory=i.ExecutorMemory,e.queue=i.Queue,e.executors=i.Executors,e.command=i.Command,e.pyfile=i.py_file,e.archives=i.Archives,a.HDFSPath=i.EntryPoint.hdfs,e.entrypoint=o({},a);var l=i.TensorflowEnv.hdfs,r=this.FesEnv.DI.pythonOption.find((function(e){return e.value.indexOf(l)>-1}));void 0!==r?(e.pythonType="Standard",e.pythonOption=r.value):(e.pythonType="Custom",e.pythonInput=l)},processAlertInfo:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t?window.JSON.parse(e):e,i=[],l=[];a.deadline&&i.push(a.deadline.length),a.event&&i.push(a.event.length),a.overtime&&i.push(a.overtime.length),i.sort();for(var r=0;r<i[i.length-1];r++){var o={alarmType:[]};a.event&&a.event[r]&&(o.alarmType.push("1"),o.event=a.event[r]),a.deadline&&a.deadline[r]&&(o.alarmType.push("2"),o.fixTime=a.deadline[r],o.fixTime.deadlineChecker=o.fixTime.deadline_checker,delete o.fixTime.deadline_checker),a.overtime&&a.overtime[r]&&(o.alarmType.push("3"),o.overTime=a.overtime[r]),l.push(o)}return console.log("jobAlert",l),l}}}},"4de4":function(e,t,a){"use strict";var i=a("23e7"),l=a("b727").filter,r=a("1dde"),o=a("ae40"),s=r("filter"),n=o("filter");i({target:"Array",proto:!0,forced:!s||!n},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},"7db0":function(e,t,a){"use strict";var i=a("23e7"),l=a("b727").find,r=a("44d2"),o=a("ae40"),s="find",n=!0,d=o(s);s in[]&&Array(1)[s]((function(){n=!1})),i({target:"Array",proto:!0,forced:n||!d},{find:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},ade3:function(e,t,a){"use strict";function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return i}))},cddd:function(e,t,a){"use strict";var i=a("3e0d"),l=a.n(i);l.a},dbb4:function(e,t,a){var i=a("23e7"),l=a("83ab"),r=a("56ef"),o=a("fc6a"),s=a("06cf"),n=a("8418");i({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){var t,a,i=o(e),l=s.f,d=r(i),c={},p=0;while(d.length>p)a=l(i,t=d[p++]),void 0!==a&&n(c,t,a);return c}})},e439:function(e,t,a){var i=a("23e7"),l=a("d039"),r=a("fc6a"),o=a("06cf").f,s=a("83ab"),n=l((function(){o(1)})),d=!s||n;i({target:"Object",stat:!0,forced:d,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})},ff68:function(e,t,a){}}]);