(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ef2ea7e"],{"10d1":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:t.$t("report.pushList"),visible:t.dialogVisible,"custom-class":"dialog-style",width:"1150px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.pushList,border:"","empty-text":t.$t("common.noData")}},["report"===t.type?r("el-table-column",{attrs:{prop:"report_name","show-overflow-tooltip":!0,label:t.$t("flow.reportName")}}):t._e(),r("el-table-column",{attrs:{prop:"version","show-overflow-tooltip":!0,label:t.$t("report.pushVersionNumber"),width:"100"}}),r("el-table-column",{attrs:{prop:"user_name","show-overflow-tooltip":!0,label:t.$t("user.user"),width:"95"}}),r("el-table-column",{attrs:{prop:"fps_file_id","show-overflow-tooltip":!0,label:t.$t("report.FPSFileID")}}),r("el-table-column",{attrs:{prop:"hash_value","show-overflow-tooltip":!0,label:t.$t("report.FPSHashValue")}}),r("el-table-column",{attrs:{prop:"file_type","show-overflow-tooltip":!0,label:t.$t("report.pushType"),width:"85"}}),r("el-table-column",{attrs:{prop:"rmb_resp","show-overflow-tooltip":!0,label:t.$t("report.RMBInfor")}}),r("el-table-column",{attrs:{prop:"status","show-overflow-tooltip":!0,width:"75",label:t.$t("DI.status")}}),r("el-table-column",{attrs:{prop:"creation_timestamp","show-overflow-tooltip":!0,width:"135",label:t.$t("DI.createTime")}}),r("el-table-column",{attrs:{label:t.$t("common.operation"),width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-dropdown",{attrs:{size:"medium"},on:{command:t.handleCommand}},[r("el-button",{staticClass:"multi-operate-btn",attrs:{type:"text",icon:"el-icon-more",round:""}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:t.beforeHandleCommand("rmbLogDownload",e.row)}},[t._v(t._s(t.$t("report.downloadLog")))])],1)],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-sizes":t.sizeList,"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.totalPage,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],n=(r("a4d3"),r("e01a"),r("d28b"),r("99af"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("bc3a")),i=r.n(n),s=r("21f4"),l={props:{type:{type:String,default:""}},data:function(){return{dialogVisible:!1,pushList:[],pushListUrl:""}},methods:{openDialog:function(){this.dialogVisible=!0,this.getListData()},getListData:function(){var t=this;this.FesApi.fetch(this.pushListUrl,{currentPage:this.pagination.pageNumber,pageSize:this.pagination.pageSize},"get").then((function(e){"report"===t.type?t.handleReportData(e):t.handleModelData(e)}))},handleReportData:function(t){if(t.events){var e=!0,r=!1,a=void 0;try{for(var o,n=t.events[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var i=o.value;i.report_name=t.report.report_name,i.version=i.event.version,i.eventId=i.event.id,i.status=i.event.status,i.fps_file_id=i.event.fps_file_id,i.file_type=i.event.file_type,i.hash_value=i.event.hash_value,i.rmb_resp=i.event.params,i.creation_timestamp=i.event.creation_timestamp?s["a"].transDate(new Date(i.event.creation_timestamp).getTime()):"",i.user_name=i.user.name}}catch(l){r=!0,a=l}finally{try{e||null==n.return||n.return()}finally{if(r)throw a}}}this.pushList=t.events,this.pagination.totalPage=t.total||0},handleModelData:function(t){if(t.events){var e=!0,r=!1,a=void 0;try{for(var o,n=t.events[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var i=o.value;i.version=i.event.version,i.status=i.event.status,i.fps_file_id=i.event.fps_file_id,i.eventId=i.event.id,i.file_type=i.event.file_type,i.hash_value=i.event.hash_value,i.rmb_resp=i.event.params,i.creation_timestamp=i.event.creation_timestamp?s["a"].transDate(new Date(i.event.creation_timestamp).getTime()):"",i.user_name=i.user.name}}catch(l){r=!0,a=l}finally{try{e||null==n.return||n.return()}finally{if(r)throw a}}this.pushList=t.events,this.pagination.totalPage=t.total||0}},rmbLogDownload:function(t){var e=this;t.eventId?i()({url:"".concat("","/mf/v1/rmbLog/Download/").concat(t.eventId),method:"get",headers:{"Mlss-Userid":localStorage.getItem("userId")}}).then((function(t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+t.data),r.style.display="none",r.setAttribute("download",e.type+"RmbLog.txt"),document.body.appendChild(r),r.click()}),(function(){e.$message.error(e.$t("serviceList.downloadFailed"))})):this.$message.error(this.$t("report.pushParameterAbnormal"))}}},c=l,u=r("2877"),p=Object(u["a"])(c,a,o,!1,null,null,null);e["a"]=p.exports},"21f4":function(t,e,r){"use strict";r("a9e3"),r("4d63"),r("ac1f"),r("25f0"),r("5319");var a={transDate:function(t,e){if(!t)return"";e=e||"yyyy-MM-dd hh:mm:ss",t=/^[0-9]*$/.test(t)?Number(t):new Date(t).getTime();var r=new Date(t),a={"y+":r.getFullYear(),"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds()};for(var o in new RegExp("(y+)").test(e)&&(e=e.replace(RegExp.$1,a["y+"])),a)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[o]:("00"+a[o]).substr((""+a[o]).length)));return e},getTime:function(){var t=new Date,e=t.getFullYear()+"",r=t.getMonth()+1;r=r>9?r:"0"+r;var a=t.getDate();return a=a>9?a:"0"+a,e+r+a}};e["a"]=a},"4d63":function(t,e,r){var a=r("83ab"),o=r("da84"),n=r("94ca"),i=r("7156"),s=r("9bf2").f,l=r("241c").f,c=r("44e7"),u=r("ad6d"),p=r("9f7f"),f=r("6eeb"),d=r("d039"),h=r("69f3").set,m=r("2626"),v=r("b622"),b=v("match"),g=o.RegExp,w=g.prototype,y=/a/g,_=/a/g,$=new g(y)!==y,D=p.UNSUPPORTED_Y,E=a&&n("RegExp",!$||D||d((function(){return _[b]=!1,g(y)!=y||g(_)==_||"/a/i"!=g(y,"i")})));if(E){var x=function(t,e){var r,a=this instanceof x,o=c(t),n=void 0===e;if(!a&&o&&t.constructor===x&&n)return t;$?o&&!n&&(t=t.source):t instanceof x&&(n&&(e=u.call(t)),t=t.source),D&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var s=i($?new g(t,e):g(t,e),a?this:w,x);return D&&r&&h(s,{sticky:r}),s},I=function(t){t in x||s(x,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},S=l(g),L=0;while(S.length>L)I(S[L++]);w.constructor=x,x.prototype=w,f(o,"RegExp",x)}m("RegExp")},"4de4":function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").filter,n=r("1dde"),i=r("ae40"),s=n("filter"),l=i("filter");a({target:"Array",proto:!0,forced:!s||!l},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,r){"use strict";var a=r("d784"),o=r("825a"),n=r("7b0b"),i=r("50c4"),s=r("a691"),l=r("1d80"),c=r("8aa5"),u=r("14c3"),p=Math.max,f=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var b=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=a.REPLACE_KEEPS_$0,w=b?"$":"$0";return[function(r,a){var o=l(this),n=void 0==r?void 0:r[t];return void 0!==n?n.call(r,o,a):e.call(String(o),r,a)},function(t,a){if(!b&&g||"string"===typeof a&&-1===a.indexOf(w)){var n=r(e,t,this,a);if(n.done)return n.value}var l=o(t),d=String(this),h="function"===typeof a;h||(a=String(a));var m=l.global;if(m){var _=l.unicode;l.lastIndex=0}var $=[];while(1){var D=u(l,d);if(null===D)break;if($.push(D),!m)break;var E=String(D[0]);""===E&&(l.lastIndex=c(d,i(l.lastIndex),_))}for(var x="",I=0,S=0;S<$.length;S++){D=$[S];for(var L=String(D[0]),P=p(f(s(D.index),d.length),0),N=[],O=1;O<D.length;O++)N.push(v(D[O]));var A=D.groups;if(h){var V=[L].concat(N,P,d);void 0!==A&&V.push(A);var R=String(a.apply(void 0,V))}else R=y(L,d,P,N,A,a);P>=I&&(x+=d.slice(I,P)+R,I=P+L.length)}return x+d.slice(I)}];function y(t,r,a,o,i,s){var l=a+t.length,c=o.length,u=m;return void 0!==i&&(i=n(i),u=h),e.call(s,u,(function(e,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,a);case"'":return r.slice(l);case"<":s=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return e;if(u>c){var p=d(u/10);return 0===p?e:p<=c?void 0===o[p-1]?n.charAt(1):o[p-1]+n.charAt(1):e}s=o[u-1]}return void 0===s?"":s}))}}))},7156:function(t,e,r){var a=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var n,i;return o&&"function"==typeof(n=e.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&o(t,i),t}},"99af":function(t,e,r){"use strict";var a=r("23e7"),o=r("d039"),n=r("e8b5"),i=r("861d"),s=r("7b0b"),l=r("50c4"),c=r("8418"),u=r("65f0"),p=r("1dde"),f=r("b622"),d=r("2d00"),h=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=p("concat"),w=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},y=!b||!g;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,a,o,n,i=s(this),p=u(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?i:arguments[e],w(n)){if(o=l(n.length),f+o>m)throw TypeError(v);for(r=0;r<o;r++,f++)r in n&&c(p,f,n[r])}else{if(f>=m)throw TypeError(v);c(p,f++,n)}return p.length=f,p}})},a9e3:function(t,e,r){"use strict";var a=r("83ab"),o=r("da84"),n=r("94ca"),i=r("6eeb"),s=r("5135"),l=r("c6b6"),c=r("7156"),u=r("c04e"),p=r("d039"),f=r("7c73"),d=r("241c").f,h=r("06cf").f,m=r("9bf2").f,v=r("58a8").trim,b="Number",g=o[b],w=g.prototype,y=l(f(w))==b,_=function(t){var e,r,a,o,n,i,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+c}for(n=c.slice(2),i=n.length,s=0;s<i;s++)if(l=n.charCodeAt(s),l<48||l>o)return NaN;return parseInt(n,a)}return+c};if(n(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var $,D=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof D&&(y?p((function(){w.valueOf.call(r)})):l(r)!=b)?c(new g(_(e)),r,D):_(e)},E=a?d(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;E.length>x;x++)s(g,$=E[x])&&!s(D,$)&&m(D,$,h(g,$));D.prototype=w,w.constructor=D,i(o,b,D)}},ade3:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},b4bd:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("breadcrumb-nav"),r("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.versionList,border:"","empty-text":t.$t("common.noData")}},[r("el-table-column",{attrs:{prop:"report_name","show-overflow-tooltip":!0,label:t.$t("flow.reportName")}}),r("el-table-column",{attrs:{prop:"version","show-overflow-tooltip":!0,label:t.$t("report.reportVersion"),width:"110"}}),r("el-table-column",{attrs:{prop:"creation_timestamp","show-overflow-tooltip":!0,label:t.$t("DI.createTime")}}),r("el-table-column",{attrs:{prop:"source","show-overflow-tooltip":!0,label:t.$t("report.filePath")}}),r("el-table-column",{attrs:{prop:"hash_value","show-overflow-tooltip":!0,label:t.$t("report.FPSHashValue")}}),r("el-table-column",{attrs:{prop:"status","show-overflow-tooltip":!0,label:t.$t("DI.status"),width:"300"}}),r("el-table-column",{attrs:{label:t.$t("common.operation"),width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-dropdown",{attrs:{size:"medium"},on:{command:t.handleCommand}},[r("el-button",{staticClass:"multi-operate-btn",attrs:{type:"text",icon:"el-icon-more",round:""}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:t.beforeHandleCommand("pushAgain",e.row)}},[t._v(t._s(t.$t("report.PushAgain")))]),r("el-dropdown-item",{attrs:{command:t.beforeHandleCommand("pushList",e.row)}},[t._v(t._s(t.$t("report.pushList")))])],1)],1)]}}])})],1),r("el-dialog",{attrs:{title:t.$t("report.pushParameters"),visible:t.dialogVisible,"custom-class":"dialog-style",width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.clearDialogForm}},[r("el-form",{ref:"formValidate",attrs:{model:t.form,rules:t.formValidate,"label-width":"155px"}},[r("el-form-item",{attrs:{label:t.$t("flow.factoryName"),prop:"factory_name"}},[r("el-input",{attrs:{placeholder:t.$t("flow.factoryNamePro")},model:{value:t.form.factory_name,callback:function(e){t.$set(t.form,"factory_name",e)},expression:"form.factory_name"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.pushAgain(t.currentTrData,!0)}}},[t._v(" "+t._s(t.$t("common.save"))+" ")]),r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")])],1)],1),r("push-list",{ref:"pushList",attrs:{type:"report"}})],1)},o=[],n=(r("a4d3"),r("e01a"),r("d28b"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("3ca3"),r("159b"),r("ddb0"),r("ade3")),i=r("21f4"),s=r("10d1");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={components:{pushList:s["a"]},data:function(){return{versionList:[],reportId:this.$route.params.reportId,dialogVisible:!1,form:{factory_name:""},currentTrData:{}}},created:function(){this.getListData()},computed:{formValidate:function(){return{factory_name:[{required:!0,message:this.$t("flow.factoryNameReq")},{type:"string",pattern:new RegExp(/^[\u4e00-\u9fa5_0-9a-zA-Z-]*$/),message:this.$t("flow.factoryNameFormat")}]}}},methods:{getListData:function(){var t=this;this.FesApi.fetch("/mf/v1/reportversions/".concat(this.reportId),{},"get").then((function(e){var r=!0,a=!1,o=void 0;try{for(var n,s=e[Symbol.iterator]();!(r=(n=s.next()).done);r=!0){var l=n.value;l.hash_value=l.event.hash_value,l.status=l.event.status,l.creation_timestamp=i["a"].transDate(l.creation_timestamp)}}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}t.versionList=t.formatResList(e)}))},pushAgain:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};if(r){var o=!1;if(this.$refs.formValidate.validate((function(t){o=t})),!o)return;a=c({},this.form)}else{if(!t.event.params)return this.currentTrData=t,void(this.dialogVisible=!0);a=JSON.parse(t.event.params)}this.FesApi.fetch("/mf/v1/reportVersion/Push/".concat(t.id),a,"post").then((function(t){e.dialogVisible&&(e.dialogVisible=!1),e.toast(),e.getListData()}))},pushList:function(t){this.$refs.pushList.pushListUrl="/mf/v1/reportVersion/Push/".concat(t.id),this.$refs.pushList.openDialog()},clearDialogForm:function(){this.$refs.formValidate.resetFields()}}},p=u,f=r("2877"),d=Object(f["a"])(p,a,o,!1,null,null,null);e["default"]=d.exports},b64b:function(t,e,r){var a=r("23e7"),o=r("7b0b"),n=r("df75"),i=r("d039"),s=i((function(){n(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(t){return n(o(t))}})},dbb4:function(t,e,r){var a=r("23e7"),o=r("83ab"),n=r("56ef"),i=r("fc6a"),s=r("06cf"),l=r("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,r,a=i(t),o=s.f,c=n(a),u={},p=0;while(c.length>p)r=o(a,e=c[p++]),void 0!==r&&l(u,e,r);return u}})},e439:function(t,e,r){var a=r("23e7"),o=r("d039"),n=r("fc6a"),i=r("06cf").f,s=r("83ab"),l=o((function(){i(1)})),c=!s||l;a({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return i(n(t),e)}})}}]);